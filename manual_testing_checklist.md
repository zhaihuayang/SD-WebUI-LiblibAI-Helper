# liblibAI 插件手动测试清单

本文档提供了一个简明的手动测试清单，供您在安装 liblibAI 插件后验证其功能。按照以下步骤操作，可以确认插件的各项功能是否正常工作。

## 1. 安装验证

- [ ] **检查插件安装**
  - 步骤：
    1. 启动 Stable Diffusion WebUI
    2. 查看顶部选项卡
  - 预期结果：顶部选项卡中应该出现 "LiblibAI" 选项卡

## 2. 配置验证

- [ ] **配置 API 密钥**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 切换到 "设置" 子选项卡
    3. 输入您的 Access Key 和 Secret Key
    4. 点击 "保存设置" 按钮
    5. 点击 "测试连接" 按钮
  - 预期结果：显示 "连接成功！API 密钥有效。" 或类似消息

- [ ] **配置代理（可选）**
  - 步骤：
    1. 在 "设置" 子选项卡中
    2. 输入代理地址（例如 http://127.0.0.1:7890）
    3. 点击 "保存设置" 按钮
    4. 点击 "测试连接" 按钮
  - 预期结果：显示连接成功消息

## 3. 基本功能验证

### 3.1 文生图功能

- [ ] **基本文生图测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 确保您在 "生成" 子选项卡
    3. 从下拉菜单选择一个模型
    4. 在提示词输入框中输入提示词（例如 "a beautiful landscape with mountains"）
    5. 在负面提示词输入框中输入负面提示词（例如 "blurry, low quality"）
    6. 点击 "生成" 按钮
  - 预期结果：
    - 生成任务开始
    - 片刻后显示生成的图像
    - 显示生成信息（包含任务 ID、模型、提示词等）

### 3.2 图生图功能

- [ ] **基本图生图测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 确保您在 "生成" 子选项卡
    3. 从下拉菜单选择一个模型
    4. 在提示词输入框中输入提示词
    5. 在负面提示词输入框中输入负面提示词
    6. 勾选 "使用图生图模式" 复选框
    7. 上传一张图片
    8. 点击 "生成" 按钮
  - 预期结果：
    - 生成任务开始
    - 片刻后显示生成的图像
    - 显示生成信息

### 3.3 工作流功能

- [ ] **基本工作流测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 切换到 "工作流" 子选项卡
    3. 从下拉菜单选择一个工作流
    4. 如果需要，设置工作流参数
    5. 点击 "运行工作流" 按钮
  - 预期结果：
    - 工作流任务开始
    - 片刻后显示工作流结果
    - 显示工作流信息

### 3.4 模型管理功能

- [ ] **模型列表测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 切换到 "模型" 子选项卡
    3. 等待模型列表加载
    4. 尝试切换不同的模型类型（全部、底模、LoRA 等）
    5. 在搜索框中输入关键词
    6. 点击 "刷新模型列表" 按钮
  - 预期结果：
    - 显示模型列表
    - 切换模型类型后，列表正确更新
    - 搜索后，列表正确过滤
    - 刷新后，列表更新

### 3.5 任务管理功能

- [ ] **任务状态查询测试**
  - 步骤：
    1. 首先执行一个生成任务并记下任务 ID
    2. 点击 "LiblibAI" 选项卡
    3. 切换到 "任务" 子选项卡
    4. 在任务 ID 输入框中输入之前记下的任务 ID
    5. 点击 "刷新任务状态" 按钮
  - 预期结果：
    - 显示任务状态
    - 如果任务已完成，显示任务结果

- [ ] **最近任务列表测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 切换到 "任务" 子选项卡
    3. 点击 "刷新最近任务" 按钮
  - 预期结果：
    - 显示最近任务列表
    - 列表包含任务 ID、类型、状态、创建时间和完成时间

## 4. 集成功能验证

### 4.1 模型卡片集成

- [ ] **模型卡片按钮测试**
  - 步骤：
    1. 在 Stable Diffusion WebUI 中找到一个模型卡片
    2. 检查模型卡片是否包含 "使用 LiblibAI" 按钮
    3. 点击 "使用 LiblibAI" 按钮
  - 预期结果：
    - 模型卡片包含 "使用 LiblibAI" 按钮
    - 点击按钮后切换到 LiblibAI 选项卡
    - 模型搜索框中填充了模型名称

### 4.2 提示词输入框集成

- [ ] **提示词输入框按钮测试**
  - 步骤：
    1. 在 Stable Diffusion WebUI 的 txt2img 或 img2img 选项卡中
    2. 在提示词输入框中输入一些文本
    3. 在负面提示词输入框中输入一些文本
    4. 检查提示词输入框是否包含 "发送到 LiblibAI" 按钮
    5. 点击 "发送到 LiblibAI" 按钮
  - 预期结果：
    - 提示词输入框包含 "发送到 LiblibAI" 按钮
    - 点击按钮后切换到 LiblibAI 选项卡
    - LiblibAI 的提示词和负面提示词输入框中填充了相应的文本

## 5. 高级功能验证（可选）

### 5.1 参数设置

- [ ] **高级参数设置测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 确保您在 "生成" 子选项卡
    3. 调整高级参数：
       - 宽度和高度
       - 步数
       - CFG Scale
       - 采样器
       - 种子
    4. 点击 "生成" 按钮
  - 预期结果：
    - 生成任务使用设置的参数
    - 生成的图像反映参数变化
    - 生成信息中显示使用的参数

### 5.2 星流 Star-3 Alpha

- [ ] **星流 Star-3 Alpha 测试**（如果支持）
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 确保您在 "生成" 子选项卡
    3. 选择星流 Star-3 Alpha 模型（如果有专门的选项）
    4. 输入提示词和负面提示词
    5. 点击 "生成" 按钮
  - 预期结果：
    - 生成任务开始
    - 片刻后显示生成的图像
    - 显示生成信息

## 6. 错误处理验证

- [ ] **无效 API 密钥测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 切换到 "设置" 子选项卡
    3. 输入无效的 Access Key 和 Secret Key
    4. 点击 "保存设置" 按钮
    5. 点击 "测试连接" 按钮
  - 预期结果：
    - 显示连接失败消息
    - 提示 API 密钥无效

- [ ] **空提示词测试**
  - 步骤：
    1. 点击 "LiblibAI" 选项卡
    2. 确保您在 "生成" 子选项卡
    3. 选择一个模型
    4. 不输入提示词
    5. 点击 "生成" 按钮
  - 预期结果：
    - 显示错误消息，提示提示词不能为空
    - 或者系统接受空提示词，使用默认提示词生成图像

## 测试结果记录

| 测试项 | 通过 | 失败 | 备注 |
|-------|------|------|------|
| 安装验证 | | | |
| API 密钥配置 | | | |
| 代理配置 | | | |
| 文生图功能 | | | |
| 图生图功能 | | | |
| 工作流功能 | | | |
| 模型列表功能 | | | |
| 任务状态查询 | | | |
| 最近任务列表 | | | |
| 模型卡片集成 | | | |
| 提示词输入框集成 | | | |
| 高级参数设置 | | | |
| 星流 Star-3 Alpha | | | |
| 无效 API 密钥处理 | | | |
| 空提示词处理 | | | |

## 问题报告

如果您在测试过程中遇到任何问题，请记录以下信息：

1. 测试项：
2. 问题描述：
3. 重现步骤：
4. 预期结果：
5. 实际结果：
6. 环境信息：
   - 操作系统：
   - 浏览器：
   - Stable Diffusion WebUI 版本：
   - Python 版本：

## 结论

通过完成上述测试，您可以确认 liblibAI 插件的各项功能是否正常工作。如果所有测试都通过，说明插件安装成功并且功能正常。如果有测试失败，请参考问题报告部分记录详细信息，以便进一步排查和解决问题。